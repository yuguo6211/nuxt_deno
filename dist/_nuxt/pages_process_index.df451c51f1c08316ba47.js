webpackJsonp([9],{Md10:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-list"},[a("h4",{staticClass:"text-center"},[t._v("工序详情")]),a("div",{staticClass:"row row-cards"},[a("div",{staticClass:"col-6 col-sm-4 col-lg-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(0),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.finsihObj.plan_orders))]),a("div",{staticClass:"text-muted mb-4"},[t._v("今日计划")])])])]),a("div",{staticClass:"col-6 col-sm-4 col-lg-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(1),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.finsihObj.finished_orders))]),a("div",{staticClass:"text-muted mb-4"},[t._v("已完成数")])])])]),a("div",{staticClass:"col-6 col-sm-4 col-lg-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(2),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.finsihObj.plan_orders-t.finsihObj.finished_orders))]),a("div",{staticClass:"text-muted mb-4"},[t._v("未完成数")])])])])]),a("div",{staticClass:"card option-box"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 col-sm-3"},[a("div",{staticClass:"input-group"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.section_name,expression:"section_name"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.section_name=e.target.multiple?a:a[0]},function(e){t.changeSelect("section")}]}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.section,function(e){return a("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])})],2)])]),a("div",{staticClass:"col-4 col-sm-3"},[a("div",{staticClass:"input-group"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.device_name,expression:"device_name"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.device_name=e.target.multiple?a:a[0]},function(e){t.changeSelect()}]}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._l(t.devices,function(e){return a("option",{domProps:{value:e.name},on:{change:function(e){t.changeSelect()}}},[t._v(t._s(e.name))])})],2)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.device_name,expression:"device_name != ''"}],staticClass:"col-4 col-sm-2"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("操作人："+t._s(((((t.process||[])[0]||{}).device||{}).device_run_record||{}).user||"暂无"))])])])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table card-table table-striped table-vcenter"},[t._m(5),a("tbody",t._l(t.process,function(e,s){return a("tr",[a("td",[t._v(t._s(e.product_part.name))]),a("td",[t._v(t._s(e.product_part.code))]),a("td",[t._v(t._s(e.product_part.batch.number))]),a("td",[t._v(t._s(e.product_part.order.order_no))]),a("td",[t._v(t._s(e.product_part.order.delivery_date))]),a("td",[t._v(t._s(t.typeFomat("order",e.product_part.order.status)))])])}))]),a("p",{directives:[{name:"show",rawName:"v-show",value:0==t.process.length&&0==t.loadingState,expression:"(process.length == 0) && (loadingState == false)"}],staticStyle:{"text-align":"center"}},[t._v("暂无数据")]),t.loadingState?a("div",[a("vueloading")],1):t._e(),a("pagination",{attrs:{flag:"processlist",total:t.pagetotal,size:t.pagesize},on:{callback:t.getListData}})],1)])])},i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("工序名称：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("设备名称：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("部件名称")]),e("th",[this._v("部件编号")]),e("th",[this._v("生产批次")]),e("th",[this._v("订单编号")]),e("th",[this._v("交付时间")]),e("th",[this._v("状态")])])])}];s._withStripped=!0},YYsx:function(t,e,a){var s=a("Z4Hw");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a("urRS").default)("1af004d5",s,!1,{sourceMap:!1})},Z4Hw:function(t,e,a){(t.exports=a("UTlt")(!1)).push([t.i,".opt-box[data-v-e3fcdb22]{padding-right:12px;padding-right:.75rem;padding-left:12px;padding-left:.75rem;background-color:#fff}.option-box[data-v-e3fcdb22]{background-color:#fff;padding:15px 0}.option-box select[data-v-e3fcdb22]{border-radius:3px!important}.option-box .input-group-text[data-v-e3fcdb22]{border:none!important;background-color:#fff!important}",""])},eYB7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("v9cX"),i=a("Md10"),n=a("QAAC"),c=!1;var r=function(t){c||a("YYsx")},o=Object(n.a)(s.a,i.a,i.b,!1,r,"data-v-e3fcdb22",null);o.options.__file="pages\\process\\index.vue",e.default=o.exports},v9cX:function(t,e,a){"use strict";var s=a("YFWx"),i=void 0;e.a={head:function(){return{title:"工序"}},layout:"layout",components:{},data:function(){return{loadingState:!0,pagetotal:1,pagesize:10,process:[],section:[],devices:[],finsihObj:{},currentDeviceUser:{},section_name:"",device_name:""}},methods:{init:function(){i.loadingState=!0},getProcess:function(t){var e={page:t,limit:i.pagesize};Object(s.a)().get("/product",{params:e}).then(function(t){t.data.data.data.length>0&&(i.process=t.data.data.data,i.getFinishRate()),i.loadingState=!1,i.pagetotal=t.data.data.total})},getDeviceList:function(){Object(s.a)().get("/device/list").then(function(t){t.data.data.length>0&&(i.devices=t.data.data)})},getProcessList:function(){Object(s.a)().get("/section").then(function(t){t.data.data.length>0&&(i.section=t.data.data)})},getListData:function(t){i.getProcess(t)},getFinishRate:function(){i.process.length>0&&(i.finsihObj=(((i.process[0]||{}).product_part||{}).batch||{}).beltline_detail||{})},getDeviceCurrentUser:function(){i.currentDeviceUser=((((i.process[0]||{}).device||{}).device_run_record||[]).user||{}).name||"暂无"},changeSelect:function(t){var e={};i.process=[],"section"==t?(i.device_name="",e.section_name=i.section_name,""==e.section_name&&i.getProcess(1)):(i.section_name="",e.device_name=i.device_name,""==e.device_name&&i.getProcess(1)),Object(s.a)().get("/product",{params:e}).then(function(t){t.data.data.length>0&&(i.process=t.data.data,i.getDeviceCurrentUser())})}},mounted:function(){(i=this).init(),i.getProcess(1),i.getDeviceList(),i.getProcessList()}}}});