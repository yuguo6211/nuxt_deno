/*! For license information please see LICENSES */
webpackJsonp([4],{"+sJA":function(t,e,i){"use strict";var a=i("YFWx"),s=i("MN4p"),n=void 0,r=i("jMcx");i("D/2v");e.a={head:function(){return{title:"生产"}},layout:"layout",components:{"vue-searchform":s.a},data:function(){return{loadingState:!0,products:[],searchObj:{}}},methods:{init:function(){n.loadingState=!0,$(".chart-circle").each(function(){var t=$(this);t.circleProgress({fill:{color:"#5eba00"},size:t.height(),startAngle:-Math.PI/4*2,emptyFill:"#F4F4F4",lineCap:"round"})})},getProducts:function(){Object(a.a)().get("/workshop/batch",{params:n.searchObj}).then(function(t){n.products=t.data.data.data,n.loadingState=!1})},searchData:function(t){t?(n.searchObj=r.clone(t),t.start_time&&(n.searchObj.start_time=Date.parse(t.start_time)/1e3),t.end_time&&(n.searchObj.end_time=Date.parse(t.end_time)/1e3)):n.searchObj={},n.products=[],n.getProducts()}},mounted:function(){i("SbGX"),(n=this).init(),n.getProducts()}}},"1Rnn":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("+sJA"),s=i("ri8v"),n=i("QAAC"),r=!1;var o=function(t){r||i("ZY3m")},c=Object(n.a)(a.a,s.a,s.b,!1,o,"data-v-71da20ef",null);c.options.__file="pages\\product\\index.vue",e.default=c.exports},"H//N":function(t,e,i){(t.exports=i("UTlt")(!1)).push([t.i,".un-box span[data-v-71da20ef]{position:relative;left:6px;top:3px;font-size:20px;color:#f1c40f;cursor:pointer}.un-box span a[data-v-71da20ef]{position:absolute;top:0;left:0;display:inline-block;width:20px;height:20px}",""])},SbGX:function(t,e,i){var a,s,n;!function(r){s=[i("L7Pj")],void 0===(n="function"==typeof(a=r)?a.apply(e,s):a)||(t.exports=n)}(function(t){function e(t){this.init(t)}e.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:e,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(e){t.extend(this,e),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=t("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var e=this.canvas;if(e.width=this.size,e.height=this.size,this.ctx=e.getContext("2d"),window.devicePixelRatio>1){var i=window.devicePixelRatio;e.style.width=e.style.height=this.size+"px",e.width=e.height=this.size*i,this.ctx.scale(i,i)}},initFill:function(){var e,i=this,a=this.fill,s=this.ctx,n=this.size;if(!a)throw Error("The fill is not specified!");if("string"==typeof a&&(a={color:a}),a.color&&(this.arcFill=a.color),a.gradient){var r=a.gradient;if(1==r.length)this.arcFill=r[0];else if(r.length>1){for(var o=a.gradientAngle||0,c=a.gradientDirection||[n/2*(1-Math.cos(o)),n/2*(1+Math.sin(o)),n/2*(1+Math.cos(o)),n/2*(1-Math.sin(o))],l=s.createLinearGradient.apply(s,c),h=0;h<r.length;h++){var d=r[h],u=h/(r.length-1);t.isArray(d)&&(u=d[1],d=d[0]),l.addColorStop(u,d)}this.arcFill=l}}a.image&&(a.image instanceof Image?e=a.image:(e=new Image).src=a.image,e.complete?f():e.onload=f);function f(){var a=t("<canvas>")[0];a.width=i.size,a.height=i.size,a.getContext("2d").drawImage(e,0,0,n,n),i.arcFill=i.ctx.createPattern(a,"no-repeat"),i.drawFrame(i.lastFrameValue)}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(t){this.lastFrameValue=t,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(t),this.drawArc(t)},drawArc:function(t){if(0!==t){var e=this.ctx,i=this.radius,a=this.getThickness(),s=this.startAngle;e.save(),e.beginPath(),this.reverse?e.arc(i,i,i-a/2,s-2*Math.PI*t,s):e.arc(i,i,i-a/2,s,s+2*Math.PI*t),e.lineWidth=a,e.lineCap=this.lineCap,e.strokeStyle=this.arcFill,e.stroke(),e.restore()}},drawEmptyArc:function(t){var e=this.ctx,i=this.radius,a=this.getThickness(),s=this.startAngle;t<1&&(e.save(),e.beginPath(),t<=0?e.arc(i,i,i-a/2,0,2*Math.PI):this.reverse?e.arc(i,i,i-a/2,s,s-2*Math.PI*t):e.arc(i,i,i-a/2,s+2*Math.PI*t,s),e.lineWidth=a,e.strokeStyle=this.emptyFill,e.stroke(),e.restore())},drawAnimated:function(e){var i=this,a=this.el,s=t(this.canvas);s.stop(!0,!1),a.trigger("circle-animation-start"),s.css({animationProgress:0}).animate({animationProgress:1},t.extend({},this.animation,{step:function(t){var s=i.animationStartValue*(1-t)+e*t;i.drawFrame(s),a.trigger("circle-animation-progress",[t,s])}})).promise().always(function(){a.trigger("circle-animation-end")})},getThickness:function(){return t.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(t){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=t,this.draw()}},t.circleProgress={defaults:e.prototype},t.easing.circleProgressEasing=function(t){return t<.5?.5*(t*=2)*t*t:1-.5*(t=2-2*t)*t*t},t.fn.circleProgress=function(i,a){var s="circle-progress",n=this.data(s);if("widget"==i){if(!n)throw Error('Calling "widget" method on not initialized instance is forbidden');return n.canvas}if("value"==i){if(!n)throw Error('Calling "value" method on not initialized instance is forbidden');if(void 0===a)return n.getValue();var r=arguments[1];return this.each(function(){t(this).data(s).setValue(r)})}return this.each(function(){var a=t(this),n=a.data(s),r=t.isPlainObject(i)?i:{};if(n)n.init(r);else{var o=t.extend({},a.data());"string"==typeof o.fill&&(o.fill=JSON.parse(o.fill)),"string"==typeof o.animation&&(o.animation=JSON.parse(o.animation)),(r=t.extend(o,r)).el=a,n=new e(r),a.data(s,n)}})}})},ZY3m:function(t,e,i){var a=i("H//N");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("urRS").default)("46cfcb22",a,!1,{sourceMap:!1})},ri8v:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-list"},[i("h4",{staticClass:"text-center"},[t._v("生产批次列表")]),t._e(),i("div",{staticClass:"card"},[i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table card-table table-striped table-vcenter"},[t._m(0),i("tbody",t._l(t.products,function(e){return i("tr",[i("td",[t._v(t._s(e.number||"暂无"))]),i("td",[t._v(t._s(e.total_order_amount||"0"))]),i("td",[t._v(t._s(e.total_order_sort_record_amount||"0"))]),i("td",[t._v(t._s(e.total_done_amount||"0"))]),i("td",[i("span",{staticClass:"un-box"},[t._v(" "+t._s(e.total_undone_amount||"0")),0!=e.total_done_amount?i("span",{staticClass:"fe fe-info"},[i("router-link",{attrs:{to:{path:"product/order?id="+e.id+"&number="+e.number}}})],1):t._e()])]),i("td",{staticClass:"text-center"},[i("div",{staticClass:"mx-auto chart-circle chart-circle-xs",attrs:{"data-value":e.complete_rate/100,"data-thickness":"3","data-color":"blue"}},[i("div",{staticClass:"chart-circle-value"},[t._v(t._s(e.complete_rate)+"%")])])])])}))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0==t.products.length&&0==t.loadingState,expression:"(products.length == 0) && (loadingState == false)"}],staticStyle:{"text-align":"center"}},[t._v("暂无数据")]),t.loadingState?i("div",[i("vueloading")],1):t._e()])])])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("生产批次号")]),e("th",[this._v("订单数")]),e("th",[this._v("分拣完成数")]),e("th",[this._v("齐套数")]),e("th",[this._v("未齐套")]),e("th",{staticClass:"text-center"},[this._v("完成率")])])])}];a._withStripped=!0}});