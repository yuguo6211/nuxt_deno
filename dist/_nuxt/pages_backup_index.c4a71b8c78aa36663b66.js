/*! For license information please see LICENSES */
webpackJsonp([6],{"1qgL":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("onn7"),s=a("Y9HL"),r=a("QAAC"),n=!1;var l=function(t){n||a("NORA")},o=Object(r.a)(i.a,s.a,s.b,!1,l,"data-v-0859dd5e",null);o.options.__file="pages\\backup\\index.vue",e.default=o.exports},NORA:function(t,e,a){var i=a("OoI8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("urRS").default)("05f4fc76",i,!1,{sourceMap:!1})},OoI8:function(t,e,a){(t.exports=a("UTlt")(!1)).push([t.i,".opt-box[data-v-0859dd5e]{padding:0;min-height:0;margin-bottom:-1px}.opt-box label[data-v-0859dd5e]{margin-bottom:0}.opt-box label .selectgroup-button[data-v-0859dd5e]{border:none;border-radius:0}.opt-box label .selectgroup-input:checked+.selectgroup-button[data-v-0859dd5e]{background-color:#868e96!important;color:#fff!important;border-color:#868e96!important}",""])},SbGX:function(t,e,a){var i,s,r;!function(n){s=[a("L7Pj")],void 0===(r="function"==typeof(i=n)?i.apply(e,s):i)||(t.exports=r)}(function(t){function e(t){this.init(t)}e.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:e,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(e){t.extend(this,e),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=t("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var e=this.canvas;if(e.width=this.size,e.height=this.size,this.ctx=e.getContext("2d"),window.devicePixelRatio>1){var a=window.devicePixelRatio;e.style.width=e.style.height=this.size+"px",e.width=e.height=this.size*a,this.ctx.scale(a,a)}},initFill:function(){var e,a=this,i=this.fill,s=this.ctx,r=this.size;if(!i)throw Error("The fill is not specified!");if("string"==typeof i&&(i={color:i}),i.color&&(this.arcFill=i.color),i.gradient){var n=i.gradient;if(1==n.length)this.arcFill=n[0];else if(n.length>1){for(var l=i.gradientAngle||0,o=i.gradientDirection||[r/2*(1-Math.cos(l)),r/2*(1+Math.sin(l)),r/2*(1+Math.cos(l)),r/2*(1-Math.sin(l))],c=s.createLinearGradient.apply(s,o),d=0;d<n.length;d++){var u=n[d],h=d/(n.length-1);t.isArray(u)&&(h=u[1],u=u[0]),c.addColorStop(h,u)}this.arcFill=c}}i.image&&(i.image instanceof Image?e=i.image:(e=new Image).src=i.image,e.complete?v():e.onload=v);function v(){var i=t("<canvas>")[0];i.width=a.size,i.height=a.size,i.getContext("2d").drawImage(e,0,0,r,r),a.arcFill=a.ctx.createPattern(i,"no-repeat"),a.drawFrame(a.lastFrameValue)}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(t){this.lastFrameValue=t,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(t),this.drawArc(t)},drawArc:function(t){if(0!==t){var e=this.ctx,a=this.radius,i=this.getThickness(),s=this.startAngle;e.save(),e.beginPath(),this.reverse?e.arc(a,a,a-i/2,s-2*Math.PI*t,s):e.arc(a,a,a-i/2,s,s+2*Math.PI*t),e.lineWidth=i,e.lineCap=this.lineCap,e.strokeStyle=this.arcFill,e.stroke(),e.restore()}},drawEmptyArc:function(t){var e=this.ctx,a=this.radius,i=this.getThickness(),s=this.startAngle;t<1&&(e.save(),e.beginPath(),t<=0?e.arc(a,a,a-i/2,0,2*Math.PI):this.reverse?e.arc(a,a,a-i/2,s,s-2*Math.PI*t):e.arc(a,a,a-i/2,s+2*Math.PI*t,s),e.lineWidth=i,e.strokeStyle=this.emptyFill,e.stroke(),e.restore())},drawAnimated:function(e){var a=this,i=this.el,s=t(this.canvas);s.stop(!0,!1),i.trigger("circle-animation-start"),s.css({animationProgress:0}).animate({animationProgress:1},t.extend({},this.animation,{step:function(t){var s=a.animationStartValue*(1-t)+e*t;a.drawFrame(s),i.trigger("circle-animation-progress",[t,s])}})).promise().always(function(){i.trigger("circle-animation-end")})},getThickness:function(){return t.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(t){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=t,this.draw()}},t.circleProgress={defaults:e.prototype},t.easing.circleProgressEasing=function(t){return t<.5?.5*(t*=2)*t*t:1-.5*(t=2-2*t)*t*t},t.fn.circleProgress=function(a,i){var s="circle-progress",r=this.data(s);if("widget"==a){if(!r)throw Error('Calling "widget" method on not initialized instance is forbidden');return r.canvas}if("value"==a){if(!r)throw Error('Calling "value" method on not initialized instance is forbidden');if(void 0===i)return r.getValue();var n=arguments[1];return this.each(function(){t(this).data(s).setValue(n)})}return this.each(function(){var i=t(this),r=i.data(s),n=t.isPlainObject(a)?a:{};if(r)r.init(n);else{var l=t.extend({},i.data());"string"==typeof l.fill&&(l.fill=JSON.parse(l.fill)),"string"==typeof l.animation&&(l.animation=JSON.parse(l.animation)),(n=t.extend(l,n)).el=i,r=new e(n),i.data(s,r)}})}})},Y9HL:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-list"},[a("h4",{staticClass:"text-center"},[t._v("返补列表")]),a("div",{staticClass:"row row-cards"},[a("div",{staticClass:"col-6 col-sm-4 col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(0),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.allReworkCount))]),a("div",{staticClass:"text-muted mb-4"},[t._v("返补总数量")])])])]),a("div",{staticClass:"col-6 col-sm-4 col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(1),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.finishedReworkCount))]),a("div",{staticClass:"text-muted mb-4"},[t._v("已完成总数")])])])]),a("div",{staticClass:"col-6 col-sm-4 col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(2),a("div",{staticClass:"h1 m-0"},[t._v(t._s(t.unfinishedReworkCount))]),a("div",{staticClass:"text-muted mb-4"},[t._v("未完成总数")])])])]),a("div",{staticClass:"col-6 col-sm-4 col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body p-3 text-center"},[t._m(3),a("div",{staticClass:"mx-auto chart-circle chart-circle-xs",attrs:{"data-thickness":"3","data-color":"blue"}},[a("div",{staticClass:"chart-circle-value"},[t._v(t._s(100*t.finishRate)+" %")])]),a("div",{staticClass:"text-muted mb-4"},[t._v("完成率")])])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header opt-box"},[a("div",{staticClass:"selectgroup"},[a("label",{staticClass:"selectgroup-item"},[a("nuxt-link",{attrs:{to:"/backup?status=all&page=1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectval,expression:"selectval"}],staticClass:"selectgroup-input",attrs:{type:"radio",name:"value",value:"all"},domProps:{checked:t._q(t.selectval,"all")},on:{change:function(e){t.selectval="all"}}}),a("span",{staticClass:"selectgroup-button"},[t._v("全部返补数")])])],1),a("label",{staticClass:"selectgroup-item"},[a("nuxt-link",{attrs:{to:"/backup?status=untreated&page=1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectval,expression:"selectval"}],staticClass:"selectgroup-input",attrs:{type:"radio",name:"value",value:"untreated"},domProps:{checked:t._q(t.selectval,"untreated")},on:{change:function(e){t.selectval="untreated"}}}),a("span",{staticClass:"selectgroup-button"},[t._v("未完数")])])],1),a("nuxt-link",{attrs:{to:"/backup?status=handled&page=1"}},[a("label",{staticClass:"selectgroup-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectval,expression:"selectval"}],staticClass:"selectgroup-input",attrs:{type:"radio",name:"value",value:"handled"},domProps:{checked:t._q(t.selectval,"handled")},on:{change:function(e){t.selectval="handled"}}}),a("span",{staticClass:"selectgroup-button"},[t._v("已完成数")])])])],1)]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table card-table table-striped table-vcenter"},[t._m(4),a("tbody",t._l(t.reworks,function(e,i){return a("tr",[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(((((e.product_part||{}).batch||{}).beltline_detail||{}).work_section||{}).name||"暂无")+t._s(((((e.product_part||{}).batch||{}).beltline_detail||{}).work_section||{}).id||"暂无"))]),a("td",[t._v(t._s((((e.product_part||{}).product_part_process_record||{}).device||{}).name||"暂无")+t._s((((e.product_part||{}).product_part_process_record||{}).device||{}).id||"1"))]),a("td",[t._v(t._s(((e.product_part||{}).order||{}).order_no||"暂无"))]),a("td",[t._v(t._s(t.localDate(e.submit_time)))]),a("td",[t._v(t._s(e.rework_memo))]),a("td",[t._v(t._s((e.submit_user||{}).name))]),a("td",[t._v(t._s(t.typeFomat("rework",e.status)))]),a("td",[t._v(t._s(t.localDate(e.hanle_time)))]),a("td",[t._v(t._s((e.handle_user||{}).name))])])}))]),a("p",{directives:[{name:"show",rawName:"v-show",value:0==t.reworks.length&&0==t.loadingState,expression:"(reworks.length == 0) && (loadingState == false)"}],staticStyle:{"text-align":"center"}},[t._v("暂无数据")]),t.loadingState?a("div",[a("vueloading")],1):t._e(),a("pagination",{attrs:{flag:"backlist",total:t.pagetotal,size:t.pagesize},on:{callback:t.getListData}})],1)])])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-right white"},[e("i",{staticClass:"fe fe-chevron-down"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("工件（ID）")]),a("th",[t._v("设备（ID）")]),a("th",[t._v("订单编号（ID）")]),a("th",[t._v("提交时间")]),a("th",[t._v("返补备注")]),a("th",[t._v("提交人员")]),a("th",[t._v("处理状态")]),a("th",[t._v("处理时间")]),a("th",[t._v("处理人员")])])])}];i._withStripped=!0},onn7:function(t,e,a){"use strict";var i=a("YFWx"),s=void 0;e.a={head:function(){return{title:"返补"}},layout:"layout",components:{},data:function(){return{loadingState:!0,pagetotal:1,pagesize:10,selectval:"all",reworks:[],allReworkCount:0,finishedReworkCount:0,unfinishedReworkCount:0,finishRate:0,whereObj:{status:"",page:1,limit:15}}},watch:{$route:function(){s.whereObj.status=this.$route.query.status?this.$route.query.status:"",s.whereObj.page=this.$route.query.page?this.$route.query.page:1,s.selectval=this.$route.query.status?this.$route.query.status:"all",s.getReworkData()}},methods:{init:function(){s.loadingState=!0,$(".chart-circle").each(function(){var t=$(this);t.circleProgress({fill:{color:"#5eba00"},size:t.height(),startAngle:-Math.PI/4*2,emptyFill:"#F4F4F4",lineCap:"round"})})},getListData:function(t){s.getReworkData(t)},getReworkData:function(t){s.reworks=[],s.whereObj.page=t,"all"==s.whereObj.status&&(s.whereObj.status=""),Object(i.a)().get("/rework",{params:s.whereObj}).then(function(t){t.data.data.data.length>0&&(s.reworks=t.data.data.data,""==s.whereObj.status&&s.getReworkCount(),s.loadingState=!1,s.pagetotal=t.data.data.total)})},getReworkCount:function(){s.allReworkCount=0,s.finishedReworkCount=0,s.unfinishedReworkCount=0,s.reworks.length>0?s.reworks.forEach(function(t){"untreated"==t.status?s.unfinishedReworkCount++:s.finishedReworkCount++,s.allReworkCount++}):(s.allReworkCount=0,s.finishedReworkCount=0,s.unfinishedReworkCount=0),s.finishRate=s.finishedReworkCount/s.allReworkCount,$(".chart-circle").circleProgress("value",s.finishRate)}},mounted:function(){a("SbGX"),(s=this).init(),s.getReworkData(1)}}}});